<div [@routerTransition]>
	<app-page-header [heading]="'Users'" [icon]="'fa-user'"></app-page-header>

	<div class="card mb-3">
		<div class="card-header">
			<i class="fa fa-user"></i> <span>Users</span>
		</div>
		<div class="card-body mat-elevation-z8" *ngIf="isRole=='admin'">
			<div class="card-block table-responsive">
				<table datatable [dtOptions]="dtOptions" [dtTrigger]="dtTrigger" class="table table-bordered" id="dataTable" width="100%"
				 cellspacing="0">
					<thead>
						<tr>
							<th>First Name</th>
							<th>Last Name</th>
							<th>Username</th>
							<th>Email</th>
							<th>Action</th>
						</tr>
					</thead>
					<tbody>
						<tr *ngFor="let user of users">
							<td>{{ user.first_name }}</td>
							<td>{{ user.last_name }}</td>
							<td>{{ user.username }}</td>
							<td>{{ user.email }}</td>
							<td>
								<button type="button" (click)="edit(user)" class="btn btn-primary">Edit</button>
								<button type="button" (click)="delete(user)" class="btn btn-danger">Delete</button>
								<button type="button" [routerLink]="['/users/userdetails',user.id]" class="btn btn-danger">Details</button>
							</td>
						</tr>
					</tbody>
				</table>
			</div>
		</div>


		<div class="card-body mat-elevation-z8" *ngIf="isRole!='admin'">
			<form [formGroup]="myForm" (ngSubmit)="onSubmit(myForm)">
				<input formControlName="name" placeholder="Your name">
				<input formControlName="email" placeholder="Your email">
				<input formControlName="message" placeholder="Your message">

				<button type="submit">Send</button>
			</form>
		</div>

	</div>
</div>